{"version":3,"sources":["components/game/Cell.js","components/game/Game.js","components/menu/Menu.js","components/rank/Rank.js","components/app/App.js","reportWebVitals.js","index.js"],"names":["Cell","value","index","clicked","onClickCell","onEnterCell","isAnswer","className","classNames","onMouseDown","onMouseEnter","Game","useState","numberList","setNumberList","Date","now","startTime","curTime","setCurTime","isDrag","setIsDrag","dragCellList","setDragCellList","answerCellList","setAnswerCellList","targetNumber","setTargetNumber","score","gameType","useParams","useEffect","console","log","arr","Array","i","length","getCellNumber","getTargetNumber","setInterval","updateTime","deltaTime","toFixed","parseInt","Math","random","getDragCellSum","reduce","accumulator","currentValue","processDrag","includes","useCallback","onMouseUp","setTimeout","newNumberList","checkAnswer","map","number","Menu","to","Rank","App","basename","process","path","component","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.476cd85c.chunk.js","sourcesContent":["import React from \"react\";\nimport classNames from \"classnames\";\n\nconst Cell = ({\n  value,\n  index,\n  clicked,\n  onClickCell,\n  onEnterCell,\n  isAnswer\n}) => {\n  return (\n    <div\n      className={classNames(\"cell\", { clicked, isAnswer })}\n      onMouseDown={() => onClickCell(index)}\n      onMouseEnter={() => onEnterCell(index)}\n    >\n      {value}\n    </div>\n  );\n};\n\nexport default Cell;\n","import \"./Game.scss\";\n\nimport React, { useCallback, useEffect, useState } from \"react\";\n\nimport Cell from \"components/game/Cell\";\nimport { useParams } from \"react-router-dom\";\n\nconst Game = () => {\n  // 숫자판\n  const [numberList, setNumberList] = useState([]);\n\n  // 시간\n  const [startTime, setStartTime] = useState(Date.now());\n  const [curTime, setCurTime] = useState(0);\n\n  // 현재 드래그 중인지 체크\n  const [isDrag, setIsDrag] = useState(false);\n\n  // 현재 드래그 중인 cell 인덱스 리스트\n  const [dragCellList, setDragCellList] = useState([]);\n\n  // 정답을 맞춘 셀 리스트\n  const [answerCellList, setAnswerCellList] = useState([]);\n\n  // 목표 숫자\n  const [targetNumber, setTargetNumber] = useState(0);\n\n  // 점수\n  const [score, setScore] = useState(0); // random 일 경우만\n\n  let { gameType } = useParams();\n\n  // 최초 설정\n  useEffect(() => {\n    console.log(\"mounted\");\n\n    let arr = new Array(25);\n    for (let i = 0; i < arr.length; ++i) {\n      arr[i] = getCellNumber();\n    }\n    setNumberList(arr);\n    setTargetNumber(getTargetNumber());\n\n    setInterval(updateTime, 50);\n\n    // TODO 게임종료 체크 인터벌\n  }, []);\n\n  const updateTime = () => {\n    const deltaTime = (Date.now() - startTime) / 1000;\n    if (gameType === \"1to20\") {\n      setCurTime(deltaTime.toFixed(2));\n    } else {\n      setCurTime((60 - deltaTime).toFixed(2));\n    }\n  };\n\n  const getCellNumber = () => {\n    // 작은 숫자가 많이 나오도록\n    const arr = [1, 1, 1, 1, 1, 1, 2, 2, 2, 3, 3, 4];\n    return arr[parseInt(Math.random() * arr.length)];\n  };\n\n  const getTargetNumber = () => {\n    if (gameType === \"1to20\") {\n      return targetNumber + 1;\n    } else {\n      return parseInt(Math.random() * 5) + 1;\n    }\n  };\n\n  const getDragCellSum = () => {\n    return dragCellList.reduce(\n      (accumulator, currentValue) => accumulator + numberList[currentValue],\n      0\n    );\n  };\n\n  const processDrag = (index) => {\n    if (!dragCellList.includes(index)) {\n      console.log(\"processDrag\", index);\n      setDragCellList([index, ...dragCellList]);\n    }\n  };\n\n  /**\n   * 정답이 맞는지 확인 및 처리\n   */\n  const checkAnswer = () => {\n    if (targetNumber === getDragCellSum()) {\n      console.log(\"정답\");\n\n      // 정답 리스트 업데이트\n      setAnswerCellList([...dragCellList]);\n      setTimeout(() => {\n        setAnswerCellList([]);\n      }, 200);\n\n      // 타겟 넘버 업데이트\n      setTargetNumber(getTargetNumber());\n\n      // 맞힌 숫자 변경\n      const newNumberList = [...numberList];\n      for (let i = 0; i < dragCellList.length; ++i) {\n        newNumberList[dragCellList[i]] = getCellNumber();\n      }\n      setNumberList(newNumberList);\n\n      if (gameType === \"1to20\") {\n        //\n      } else {\n        //\n      }\n    } else {\n      console.log(\"오답\");\n    }\n  };\n\n  const onClickCell = useCallback((index) => {\n    console.log(\"onClickCell\", index);\n    setIsDrag(true);\n    processDrag(index);\n  }, []);\n\n  const onEnterCell = useCallback(\n    (index) => {\n      if (isDrag) {\n        console.log(\"onEnterCell\", index);\n        processDrag(index);\n      }\n    },\n    [isDrag, dragCellList]\n  );\n\n  const onMouseUp = () => {\n    console.log(\"onMouseUp\");\n    console.log(dragCellList, getDragCellSum());\n\n    // 정답 체크\n    checkAnswer();\n\n    setIsDrag(false);\n    setDragCellList([]);\n  };\n\n  return (\n    <div onMouseUp={onMouseUp}>\n      {/* 상단 */}\n      <div className=\"card card-number mb-20\">\n        <div className=\"card-header\">TARGET NUMBER</div>\n        <div className=\"card-body\">{targetNumber}</div>\n      </div>\n      <div className=\"d-flex justify-content-flex-end\">\n        <div className=\"card\">\n          <div className=\"card-header\">TIME</div>\n          <div className=\"card-body\">{curTime}</div>\n        </div>\n        {gameType === \"1to20\" && (\n          <div className=\"card\">\n            <div className=\"card-header\">BEST-TIME</div>\n            <div className=\"card-body\">{score}</div>\n          </div>\n        )}\n        {gameType === \"random\" && (\n          <div className=\"card\">\n            <div className=\"card-header\">SCORE</div>\n            <div className=\"card-body\">{score}</div>\n          </div>\n        )}\n        {gameType === \"random\" && (\n          <div className=\"card\">\n            <div className=\"card-header\">\n              BEST\n              <br />\n              SCORE\n            </div>\n            <div className=\"card-body\">{score}</div>\n          </div>\n        )}\n      </div>\n\n      {/* 하단 */}\n      <div className=\"board\">\n        {numberList.map((number, index) => (\n          <Cell\n            value={number}\n            key={index}\n            index={index}\n            clicked={dragCellList.includes(index)}\n            isAnswer={answerCellList.includes(index)}\n            onClickCell={onClickCell}\n            onEnterCell={onEnterCell}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Game;\n","import \"./Menu.scss\";\n\nimport { Link } from \"react-router-dom\";\nimport React from \"react\";\n\nconst Menu = () => {\n  return (\n    <div className=\"d-flex flex-column align-items-center justify-content-center h-100\">\n      <div className=\"title\">PLUSPANG</div>\n      <Link to=\"/game/1to20\" className=\"btn menu-item\">\n        1 to 20\n      </Link>\n      <Link to=\"/game/random\" className=\"btn menu-item\">\n        random\n      </Link>\n      <Link to=\"/rank\" className=\"btn menu-item\">\n        rank\n      </Link>\n    </div>\n  );\n};\n\nexport default Menu;\n","import React from \"react\";\n\nconst Rank = () => {\n  return <div>랭크</div>;\n};\n\nexport default Rank;\n","import \"styles/style.scss\";\nimport \"./App.scss\";\n\nimport { BrowserRouter, Route } from \"react-router-dom\";\n\nimport Game from \"components/game/Game\";\nimport Menu from \"components/menu/Menu\";\nimport Rank from \"components/rank/Rank\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <div className=\"container\">\n        <BrowserRouter basename={process.env.PUBLIC_URL}>\n          <Route path=\"/\" component={Menu} exact={true} />\n          <Route path=\"/game/:gameType\" component={Game} />\n          <Route path=\"/rank\" component={Rank} />\n        </BrowserRouter>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import \"./index.css\";\n\nimport App from \"./components/app/App\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}